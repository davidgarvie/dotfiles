{{- $data := .chezmoi.config.data | default dict -}}
{{- $host_type := (index $data "host_type") | default "server" -}}

# Exports
export ZSH="$HOME/.oh-my-zsh"
export ZSH_FZF_HISTORY_SEARCH_FZF_EXTRA_ARGS="--bind enter:replace-query+print-query"

# Plugins
zstyle :omz:plugins:ssh-agent lazy yes
zstyle :omz:plugins:ssh-agent quiet yes

# Alias
alias cat=batcat

# Plugins
plugins=(
  docker
  git
  ssh-agent
  wd
  zsh-autosuggestions
  zsh-fzf-history-search
  zsh-syntax-highlighting
{{- if eq $host_type "dev" }}
  golang
  nvm
  sdk
{{- end }}
)

source $ZSH/oh-my-zsh.sh
eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"
eval "$(starship init zsh)"

{{- if eq $host_type "dev" }}
export PATH=$PATH:~/.local/bin:/usr/local/go/bin:~/go/bin
zstyle :omz:plugins:nvm lazy yes

if [ -f "$HOME/.sdkman/bin/sdkman-init.sh" ]; then
  source "$HOME/.sdkman/bin/sdkman-init.sh"
fi
{{- end }}
